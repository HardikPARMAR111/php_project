<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Rent Book</title>
    <link href="../css/style.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h2>Rent Book</h2>
      <div class="card p-3">
        <p><strong>Book:</strong> <span id="bookTitle">Loading...</span></p>
        <p><strong>Author:</strong> <span id="bookAuthor">Loading...</span></p>
        <p><strong>Rented On:</strong> <span id="rentedOn"></span></p>
        <p><strong>Due On:</strong> <span id="dueOn"></span></p>
        <button class="btn btn-success" id="confirmRent">Confirm Rental</button>
      </div>
    </div>

    <script>
      // Simulate book data (replace with PHP + MongoDB later)
      const urlParams = new URLSearchParams(window.location.search);
      const bookId = urlParams.get("book_id");

      const books = {
        1: { title: "The Great Gatsby", author: "F. Scott Fitzgerald" },
        2: { title: "1984", author: "George Orwell" },
      };

      const book = books[bookId] || { title: "Unknown", author: "Unknown" };

      document.getElementById("bookTitle").textContent = book.title;
      document.getElementById("bookAuthor").textContent = book.author;

      const today = new Date();
      const dueDate = new Date();
      dueDate.setDate(today.getDate() + 30);

      document.getElementById("rentedOn").textContent =
        today.toLocaleDateString();
      document.getElementById("dueOn").textContent =
        dueDate.toLocaleDateString();

      document.getElementById("confirmRent").addEventListener("click", () => {
        alert(
          `You have successfully rented "${
            book.title
          }" until ${dueDate.toLocaleDateString()}`
        );
        // Later: Send rental info to PHP/MongoDB
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
